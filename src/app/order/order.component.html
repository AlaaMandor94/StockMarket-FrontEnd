<h2 class="table-heading">Order Screen</h2>

<h2 mat-dialog-title>Create Order</h2>
<mat-dialog-content>
  <mat-form-field>
    <mat-label>Person Name</mat-label>
    <input matInput type="text" [(ngModel)]="order.personName" required />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Stock</mat-label>
    <mat-select [(ngModel)]="order.stock" required>
      <mat-option *ngFor="let stock of stocks" [value]="stock">{{
        stock.name
      }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Quantity</mat-label>
    <input matInput type="number" [(ngModel)]="order.quantity" required />
  </mat-form-field>
</mat-dialog-content>
<br />
<mat-dialog-actions>
  <button mat-raised-button color="primary" (click)="createOrder()">
    Create Order
  </button>
</mat-dialog-actions>

<hr />

<h2>Order List</h2>
<div class="container">
  <div class="table-container">
    <div class="table-scroll">
      <mat-table [dataSource]="orders" matSort>
        <ng-container matColumnDef="personName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Person Name</th>

          <td mat-cell *matCellDef="let order">{{ order.personName }}</td>
        </ng-container>
        <ng-container matColumnDef="stockName">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Stock Name</th>
          <td mat-cell *matCellDef="let order">{{ order.stockName }}</td>
        </ng-container>
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Price</th>
          <td mat-cell *matCellDef="let order">{{ order.totalPrice }}</td>
        </ng-container>
        <ng-container matColumnDef="quantity">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Quantity</th>
          <td mat-cell *matCellDef="let order">{{ order.quantity }}</td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="['personName', 'stockName', 'price', 'quantity']"
        ></tr>
        <tr
          mat-row
          *matRowDef="
            let order;
            columns: ['personName', 'stockName', 'price', 'quantity']
          "
        ></tr>
      </mat-table>
    </div>
  </div>
</div>
